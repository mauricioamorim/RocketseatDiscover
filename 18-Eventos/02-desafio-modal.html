<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Desafio Modal</title>
</head>
<body class="h-screen bg-purple-100 flex flex-col items-center justify-center">
  <button
    id="openModal"
    class="bg-purple-700 text-white py-2 px-4 rounded">
    Abrir Janela
  </button>

  <div class="modal-wrapper invisible fixed bg-gray-500 w-screen h-screen flex items-center justify-center">
    <div class="p-8 bg-white text-center rounded">
      Tecle ESC para fechar
    </div>
  </div>

  <script type="text/javascript">
    window.addEventListener('load',function(){
      console.log('loaded');

      const btnOpenModal = document.querySelector('#openModal');
      const modalWrapper = document.querySelector('.modal-wrapper');

      //n√£o permite vc adicionar mais listener para esse evento
      btnOpenModal.onclick = function() {
        console.log('chamou abreModal');
        modalWrapper.classList.remove('invisible');
      };

      //permite adicionar multiplos listeners para esse evento
      document.addEventListener('keydown', function(event) {
        const isEscKey = event.key === 'Escape'
        if(isEscKey && !modalWrapper.classList.contains('invisible')) {
          console.log('chamou fechaModal');
          modalWrapper.classList.add('invisible')
        } 
      });
    });
  </script>
</body>
</html>